<div class="max-w-md mx-auto mt-16">
  <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
    <h1 class="text-2xl font-semibold text-primary mb-6 text-center">
      Criar conta
    </h1>

    <% if @user.errors.any? %>
      <div class="mb-4 rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700">
        <p class="font-medium mb-2">Corrija os campos abaixo:</p>
      </div>
    <% end %>

    <%= form_with model: @user, class: "space-y-4" do |f| %>
      <% name_has_error = @user.errors[:name].any? %>
      <div>
        <label class="block text-sm font-medium text-primary">Nome</label>
        <%= f.text_field :name,
          placeholder: "Seu nome",
          class: [
            "mt-1 w-full rounded-xl p-2",
            "border-gray-200 focus:border-secondary focus:ring-secondary",
            (name_has_error ? "border-red-300 bg-red-50 focus:border-red-400 focus:ring-red-200" : "")
          ].join(" ")
        %>
        <% if name_has_error %>
          <p class="mt-1 text-sm text-red-600"><%= @user.errors[:name].first %></p>
        <% end %>
      </div>

      <% email_has_error = @user.errors[:email].any? %>
      <div>
        <label class="block text-sm font-medium text-primary">Email</label>
        <%= f.email_field :email,
          placeholder: "seu@email.com",
          class: [
            "mt-1 w-full rounded-xl p-2",
            "border-gray-200 focus:border-secondary focus:ring-secondary",
            (email_has_error ? "border-red-300 bg-red-50 focus:border-red-400 focus:ring-red-200" : "")
          ].join(" ")
        %>
        <% if email_has_error %>
          <p class="mt-1 text-sm text-red-600"><%= @user.errors[:email].first %></p>
        <% end %>
      </div>

      <% password_has_error = @user.errors[:password].any? %>
      <div>
        <label class="block text-sm font-medium text-primary">Senha</label>
        <%= f.password_field :password,
          placeholder: "••••••••",
          class: [
            "mt-1 w-full rounded-xl p-2",
            "border-gray-200 focus:border-secondary focus:ring-secondary",
            (password_has_error ? "border-red-300 bg-red-50 focus:border-red-400 focus:ring-red-200" : "")
          ].join(" ")
        %>
        <% if password_has_error %>
          <p class="mt-1 text-sm text-red-600"><%= @user.errors[:password].first %></p>
        <% end %>
      </div>

      <% passconf_has_error = @user.errors[:password_confirmation].any? %>
      <div>
        <label class="block text-sm font-medium text-primary">Confirmar senha</label>
        <%= f.password_field :password_confirmation,
          placeholder: "••••••••",
          class: [
            "mt-1 w-full rounded-xl p-2",
            "border-gray-200 focus:border-secondary focus:ring-secondary",
            (passconf_has_error ? "border-red-300 bg-red-50 focus:border-red-400 focus:ring-red-200" : "")
          ].join(" ")
        %>
  
      </div>

      <div class="pt-2">
        <%= f.submit "Criar conta",
          class: "w-full rounded-xl px-4 py-2 text-sm font-medium bg-secondary text-white hover:opacity-90 transition"
        %>
      </div>
    <% end %>
  </div>
</div>
