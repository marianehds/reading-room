<turbo-frame id="modal">
  <dialog data-controller="modal" data-action="click->modal#backdropClose">
    <div style="min-width: 320px; max-width: 520px;">
      <div style="display:flex; justify-content: space-between; align-items:center;">
        <h2 style="margin:0;"><%= @book.title %></h2>
        <button type="button" data-action="modal#close" aria-label="Fechar">âœ•</button>
      </div>

      <p style="margin: 10px 0 0;">
        <strong>Autor:</strong> <%= @book.author %>
      </p>

      <% if @book.published_year.present? %>
        <p style="margin: 6px 0 0;">
          <strong>Ano:</strong> <%= @book.published_year %>
        </p>
      <% end %>

      <p style="margin: 6px 0 0; color: #666;">
        <strong>Cadastrado por:</strong> <%= @book.user.name %>
      </p>

      <hr style="margin: 14px 0;">

      <% if current_user == @book.user %>
        <div style="display:flex; gap: 10px; align-items:center;">
          <%= link_to "Editar", edit_book_path(@book), data: { turbo_frame: "modal" } %>

          <%= button_to "Excluir",
                        book_path(@book),
                        method: :delete,
                        data: { confirm: "Tem certeza que deseja excluir?" } %>
        </div>
      <% end %>
    </div>
  </dialog>
</turbo-frame>
